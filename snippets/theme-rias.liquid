{% comment %}
  Create the URL pattern for lazyloading RIAS
  {% assign image_url_pattern = image | image_url %}
  Split the image_widths string into an array{% assign image_widths_array = image_widths | split: ',' %}
  {% capture valid_image_widths %}
  {% for width in image_widths_array %}
  Make sure the image width is greater than each image_widths
  {% assign width_num = width | plus: 0 | round %}
  {% if image.width >= width_num %}
  {{ width_num }},{% endif %}
  {% endfor %}
  {{ image.width }}
  {% endcapture %}
  Remove white space, line breaks, last comma
  assign image_widths = valid_image_widths | strip_newlines | remove: ' '

  {% assign image_widths = valid_image_widths | strip_newlines | remove: ' ' %}
{% endcomment %}
{% liquid
  assign image_url_pattern = image | image_url
  assign image_widths_array = image_widths | split: ','
  capture valid_image_widths
    for width in image_widths_array
      assign width_num = width | plus: 0 | round
      if image.width >= width_num
        echo width_num
      endif
    endfor
    echo image.width
  endcapture
%}
