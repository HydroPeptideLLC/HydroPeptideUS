<!-- /templates/customers/register.liquid -->
<script src="https://cdn.attn.tv/checkout/checkout.js" defer></script>
<script src="https://cdn.attn.tv/proclub/dtag.js"></script>
<style>
.row.inline .med_s12 {
    width: 100%;
}
</style>
<div class="container signup_container">

  <div class="inline signup_sec">

    <h1 class="block s1">{{ 'customer.register.title' | t }}</h1>
    
<!--     <br><span class="sub">Join Loyalty Rewards for exclusive access to sales, new products, and more!</span> -->

    <div class="account-form registerFrom block s1 ">
      {% form 'create_customer' %}
      <div class="row inline">

          <div class="block s1 u-center p c-accent">
            {{ form.errors | default_errors }}
          </div>
          <div class="inputGroup block s1 med_s12">
            <label for="FirstName" class="c-gray">{{ 'customer.register.first_name' | t }}</label>
            <input type="text" name="customer[first_name]" id="FirstName" class="input-full" {% if form.first_name %}value="{{ form.first_name }}"{% endif %} autocapitalize="words" autofocus>
          </div>

          <div class="inputGroup block s1 med_s12">
            <label for="LastName" class="c-gray">{{ 'customer.register.last_name' | t }}</label>
            <input type="text" name="customer[last_name]" id="LastName" class="input-full" {% if form.last_name %}value="{{ form.last_name }}"{% endif %} autocapitalize="words">
          </div>

          <div class="inputGroup block s1 med_s12">
            <label for="Email" class="c-gray">{{ 'customer.register.email' | t }}</label>
            <input type="email" name="customer[email]" id="Email" class="input-full{% if form.errors contains 'email' %} error{% endif %}" {% if form.email %} value="{{ form.email }}"{% endif %} autocorrect="off" autocapitalize="off">
          </div>

          <div class="inputGroup block s1 med_s12">
            <label for="CreatePassword" class="c-gray">{{ 'customer.register.password' | t }}</label>
            <input type="password" name="customer[password]" id="CreatePassword" class="input-full{% if form.errors contains 'password' %} error{% endif %}">
          </div>
          
          <input type="hidden" id="customer_tags" name="customer[tags]" value="">
        
<br>
          
          <!-- CheckBox Area -->
                    
<!--           <div class="custom-control custom-checkbox form-box" style="display: flex; flex-wrap: wrap;">
            <input type="checkbox" class="custom-control-input" id="customCheck1" style="width: 15px; margin-right: 10px;">
            <label class="custom-control-label" for="customCheck1" style="width: calc(100% - 40px);">
              SIGN UP FOR LOYALTY. <br><span class="sub">By signing up for loyalty <a href="https://hydropeptide.com/pages/terms-conditions">I agree to the terms and conditions.</a></span>
            </label>
            <span class="checkmark"></span>
            <p class="checkboxStatus"></p>    
          </div>
<br>
          <fieldset class="field dateofbirth dateofbirthsection">
            <legend class="c-gray">Birthday*</legend>
            <div class="birthday-text">{{section.settings.detail}}</div>
            <div class="cus-form-group bithday-select">
              <div class="dobselect">
                <select name="customer[months]" id="months" aria-label="month" >
                  <option value="">Month</option>
                  <option value="01">Jan.</option>
                  <option value="02">Feb.</option>
                  <option value="03">Mar.</option>
                  <option value="04">Apr.</option>
                  <option value="05">May</option>
                  <option value="06">Jun.</option>
                  <option value="07">Jul.</option>
                  <option value="08">Aug.</option>
                  <option value="09">Sep.</option>
                  <option value="10">Oct.</option>
                  <option value="11">Nov.</option>
                  <option value="12">Dec.</option>
                </select>
              </div>
              <div class="dobselect" id="dayselect">
                <select name="customer[days]" id="days" aria-label="day" >
                  <option value="">Day</option>
                  <option value="01">1</option>
                  <option value="02">2</option>
                  <option value="03">3</option>
                  <option value="04">4</option>
                  <option value="05">5</option>
                  <option value="06">6</option>
                  <option value="07">7</option>
                  <option value="08">8</option>
                  <option value="09">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
                  <option value="13">13</option>
                  <option value="14">14</option>
                  <option value="15">15</option>
                  <option value="16">16</option>
                  <option value="17">17</option>
                  <option value="18">18</option>
                  <option value="19">19</option>
                  <option value="20">20</option>
                  <option value="21">21</option>
                  <option value="22">22</option>
                  <option value="23">23</option>
                  <option value="24">24</option>
                  <option value="25">25</option>
                  <option value="26">26</option>
                  <option value="27">27</option>
                  <option value="28">28</option>
                  <option value="29">29</option>
                  <option value="30">30</option>
                  <option value="31">31</option>
                </select>
              </div>   
            </div>
<br>
          </fieldset> -->
          <div class="custom-control custom-checkbox form-box" style="display: flex; flex-wrap: wrap;">
            <input type="checkbox" class="custom-control-input" id="customCheck2" style="width: 15px; margin-right: 10px;">
            <label class="custom-control-label" for="customCheck2" style="width: calc(100% - 40px);">
              SIGN UP FOR SPECIAL OFFERS

            </label>
            <span class="checkmark"></span>
            <p class="checkboxStatus"></p>    
        </div>

      </div>
      
<!--       <div id="attentiveOptIn" class="fieldset-description" data-buyer-accepts-marketing-attentive="" aria-label="Phone Sign Up" style="margin-bottom: 20px;">
        <div class="section__content section__content__attentive">
          <div class="checkbox-wrapper">
            <div class="checkbox__input">
              <input name="attributes[buyer_accepts_marketing_attentive]" type="hidden" value="0">
              <input class="input-checkbox" data-backup="buyer_accepts_marketing" type="checkbox" value="1"
                     name="attributes[buyer_accepts_marketing_attentive]" id="checkout_buyer_accepts_marketing_attentive" aria-labelledby="headers"
                     tabindex="0" focusable="true">
            </div>
            <div class="checkbox__label checkbox__label__attentive">
              <span id="headers" tabindex="0" focusable="true">
                <div class="checkbox__label__attentive__header">Sign up for exclusive offers!</div>
                <div class="checkbox__label__attentive__subheader">Sign up to receive texts from ProClub</div>
              </span>
              <div class="section__footer__attentive">By checking this box, you agree to receive recurring automated promotional and
                personalized marketing text messages <b>(e.g. cart reminders)</b> from ProClub at the cell number used when signing up. Consent is not a
                condition of any purchase. <b>Reply HELP for help and STOP to cancel.</b> Msg frequency varies. Msg & data rates may apply. View <a
                                                                                                                                                    href="http://attn.tv/proclub/terms.html" target="_blank" rel="noopener noreferrer" aria-label="ProClub Terms Link" >Terms</a> &amp; <a
href="https://proclub.hydropeptide.com/pages/privacy-policy" target="_blank" rel="noopener noreferrer" aria-label="ProClub Privacy
                  Link">Privacy</a>.</div>
            </div>
          </div>
        </div>
      </div>   -->
      
        <div class="row inline u-center">
          <input type="submit" value="{{ 'customer.register.submit' | t }}" class="account-form-submit button block">

          <div class="account-form-links">
            <a href="{{ shop.url }}">{{ 'customer.register.cancel' | t }}</a>
          </div>
        </div>
      
         <input type="hidden" name="customer[accepts_marketing]" value="false" id="marketing" />

      
      {% endform %}
      
      
    </div>

  </div>
  <div class="login_sec">
    <h2>ALREADY REGISTERED?</h2>
    <a href="/account/login">Sign In</a>
  </div>

</div>

<script>
 //Checks if there is any change on checkBox class
  $("#customCheck1").change(function() {
     // If change is confirmed this checks if the checkbox is checked
  
      if(this.checked) {
		// Changes the value attribute to you value 
          $('fieldset.field.dateofbirth.dateofbirthsection').show();
          $("select#months, select#days").attr("required", "true");
          $('#customer_tags').val('Loyalty');
        $('#marketing').attr('value', 'true');

      }
      else{
          $('fieldset.field.dateofbirth.dateofbirthsection').hide();
          $("select#months, select#days").removeAttr("required");
          $('#customer_tags').val('');
        
      }
  });



  $("input.account-form-submit.button.block").hover(function() {
    var month = $('#months').val();
    var day = $('#days').val();

    var flag = 0;
    if($('#customCheck2').is(":checked")){

      var spacial_offer = 'SpacialOffer, newsletter';
      $('#marketing').attr('value', 'true');

      flag = 1;

    }
    else if($('#customCheck2').is(":not(:checked)")){
      var spacial_offer = '';
    }



    if($('#customCheck1').is(":checked")){
      $('#customer_tags').attr('value', 'Loyalty ' + ', month-' + month + ', day-' + day + ', ' + spacial_offer);
      $('#marketing').attr('value', 'true');
      flag = 1;
    }
    else if($('#customCheck1').is(":not(:checked)")){
      $('#customer_tags').attr('value', spacial_offer );
    }
    
    $('#customer_tags').attr('value', spacial_offer );

    if(flag == 0) {
      $('#marketing').attr('value', 'false');
    }

      console.log($('#customer_tags').val());
  });
</script>